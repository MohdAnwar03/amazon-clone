{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\91981\\\\OneDrive\\\\Desktop\\\\amazon-clone\\\\amazon-clone\\\\src\\\\components\\\\Subtotal.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport \"./css/Subtotal.css\";\nimport CurrencyFormat from 'react-currency-format';\nimport { useStateValue } from \"../StateProvider\";\nimport { getBasketTotal } from \"../reducer\";\nimport { useNavigate } from \"react-router-dom\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport axios from \"axios\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { toast } from \"react-toastify\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\ntoast.configure();\n\nfunction Subtotal() {\n  _s();\n\n  const Navigate = useNavigate();\n  const [{\n    basket,\n    user\n  }, dispatch] = useStateValue();\n  const total = getBasketTotal(basket);\n\n  async function handleToken(token) {\n    const response = await axios.post(\"http://localhost:8080/checkout\", {\n      token,\n      total\n    });\n    const {\n      status\n    } = response.data;\n\n    if (status === \"success\") {\n      toast(\"Success! Product Purchased\", {\n        type: \"success\"\n      });\n    } else {\n      toast(\"Error! Something went wrong\", {\n        type: \"error\"\n      });\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"subtotal\",\n    children: [/*#__PURE__*/_jsxDEV(CurrencyFormat, {\n      renderText: value => /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Subtotal (\", basket.length, \" items):\", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: value\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          className: \"subtotal_left\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 46,\n            columnNumber: 25\n          }, this), \"This order contains a gift\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true),\n      decimalScale: 2,\n      value: getBasketTotal(basket),\n      displayType: \"text\",\n      thousandSeparator: true,\n      prefix: \"$\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(StripeCheckout, {\n      stripeKey: \"pk_test_51KGTrCCoZstnaqibzO4bIbJ5JZxIdJ1F10XiuBsRhmzXYBR01w8mpRGZNO1GE8yJo8CEhdpyHqEHGDgFQZw9y5Re00KTywxFMg\",\n      token: handleToken,\n      amount: total\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Subtotal, \"GlMireKmr9yxYorIP/2PjXWCxkA=\", false, function () {\n  return [useNavigate, useStateValue];\n});\n\n_c = Subtotal;\nexport default Subtotal;\n\nvar _c;\n\n$RefreshReg$(_c, \"Subtotal\");","map":{"version":3,"sources":["C:/Users/91981/OneDrive/Desktop/amazon-clone/amazon-clone/src/components/Subtotal.js"],"names":["React","CurrencyFormat","useStateValue","getBasketTotal","useNavigate","StripeCheckout","axios","toast","configure","Subtotal","Navigate","basket","user","dispatch","total","handleToken","token","response","post","status","data","type","value","length"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,SAAQC,aAAR,QAA4B,kBAA5B;AACA,SAAQC,cAAR,QAA6B,YAA7B;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AACA,OAAOC,cAAP,MAA2B,uBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,uCAAP;AACA,SAAQC,KAAR,QAAoB,gBAApB;;;AAEAA,KAAK,CAACC,SAAN;;AAEA,SAASC,QAAT,GAAoB;AAAA;;AAChB,QAAMC,QAAQ,GAAGN,WAAW,EAA5B;AACA,QAAM,CAAC;AAACO,IAAAA,MAAD;AAASC,IAAAA;AAAT,GAAD,EAAiBC,QAAjB,IAA6BX,aAAa,EAAhD;AACA,QAAMY,KAAK,GAAGX,cAAc,CAACQ,MAAD,CAA5B;;AAEA,iBAAeI,WAAf,CAA2BC,KAA3B,EAAiC;AAC7B,UAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,IAAN,CAAW,gCAAX,EAA6C;AAChEF,MAAAA,KADgE;AAEhEF,MAAAA;AAFgE,KAA7C,CAAvB;AAIA,UAAM;AAACK,MAAAA;AAAD,QAAWF,QAAQ,CAACG,IAA1B;;AACA,QAAGD,MAAM,KAAK,SAAd,EAAwB;AACpBZ,MAAAA,KAAK,CAAC,4BAAD,EAA+B;AAChCc,QAAAA,IAAI,EAAE;AAD0B,OAA/B,CAAL;AAGH,KAJD,MAIK;AACDd,MAAAA,KAAK,CAAC,6BAAD,EAAgC;AACjCc,QAAAA,IAAI,EAAE;AAD2B,OAAhC,CAAL;AAGH;AACJ;;AAEH,sBACE;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,4BACI,QAAC,cAAD;AACI,MAAA,UAAU,EAAGC,KAAD,iBACR;AAAA,gCACI;AAAA,mCACeX,MAAM,CAACY,MADtB,2BAEI;AAAA,sBAASD;AAAT;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAKI;AAAO,UAAA,SAAS,EAAC,eAAjB;AAAA,kCACI;AAAO,YAAA,IAAI,EAAC;AAAZ;AAAA;AAAA;AAAA;AAAA,kBADJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALJ;AAAA,sBAFR;AAaI,MAAA,YAAY,EAAE,CAblB;AAcI,MAAA,KAAK,EAAEnB,cAAc,CAACQ,MAAD,CAdzB;AAeI,MAAA,WAAW,EAAE,MAfjB;AAgBI,MAAA,iBAAiB,EAAE,IAhBvB;AAiBI,MAAA,MAAM,EAAE;AAjBZ;AAAA;AAAA;AAAA;AAAA,YADJ,eAoBI,QAAC,cAAD;AACI,MAAA,SAAS,EAAC,6GADd;AAEI,MAAA,KAAK,EAAEI,WAFX;AAGI,MAAA,MAAM,EAAED;AAHZ;AAAA;AAAA;AAAA;AAAA,YApBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AA4BD;;GAlDQL,Q;UACYL,W,EACkBF,a;;;KAF9BO,Q;AAoDT,eAAeA,QAAf","sourcesContent":["import React from 'react';\nimport \"./css/Subtotal.css\";\nimport CurrencyFormat from 'react-currency-format';\nimport {useStateValue} from \"../StateProvider\";\nimport {getBasketTotal} from \"../reducer\";\nimport {useNavigate} from \"react-router-dom\";\nimport StripeCheckout from \"react-stripe-checkout\";\nimport axios from \"axios\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport {toast} from \"react-toastify\";\n\ntoast.configure();\n\nfunction Subtotal() {\n    const Navigate = useNavigate();\n    const [{basket, user}, dispatch] = useStateValue();\n    const total = getBasketTotal(basket);\n\n    async function handleToken(token){\n        const response = await axios.post(\"http://localhost:8080/checkout\", {\n            token, \n            total\n        })\n        const {status} = response.data;\n        if(status === \"success\"){\n            toast(\"Success! Product Purchased\", {\n                type: \"success\"\n            })\n        }else{\n            toast(\"Error! Something went wrong\", {\n                type: \"error\"\n            })\n        }\n    }\n\n  return (\n    <div className='subtotal'>\n        <CurrencyFormat \n            renderText={(value) => (\n                <>\n                    <p>\n                        Subtotal ({basket.length} items):\n                        <strong>{value}</strong>\n                    </p>  \n                    <small className='subtotal_left'>\n                        <input type=\"checkbox\" />\n                        This order contains a gift\n                    </small>\n                </>\n            )}\n            decimalScale={2}\n            value={getBasketTotal(basket)}\n            displayType={\"text\"}\n            thousandSeparator={true}\n            prefix={\"$\"}\n        />\n        <StripeCheckout \n            stripeKey=\"pk_test_51KGTrCCoZstnaqibzO4bIbJ5JZxIdJ1F10XiuBsRhmzXYBR01w8mpRGZNO1GE8yJo8CEhdpyHqEHGDgFQZw9y5Re00KTywxFMg\"\n            token={handleToken}\n            amount={total}\n        />\n    </div>\n  )\n}\n\nexport default Subtotal"]},"metadata":{},"sourceType":"module"}